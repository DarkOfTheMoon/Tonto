#
# This is the platform-specific compiler option file
# --------------------------------------------------
 
# This file is included into the Makefile.
# If you edit this file Tonto will rebuild from the start.

#
# Compiler switches
# -----------------

FOPTNS = $(FFAST)
# Choose the overall type of executable wanted
# . Choose $(FFAST), $(FDEBUG) or $(FPROF). See below for descriptions. 
# . Can also have multiple choices e.g $(FAST) $(FPROF)
# . If you use only $(FFAST) or $(FDEBUG) the executables will be
#   stored in the fast/ or debug/ subdirectories, allowing builds of
#   these two types to be simultaneously resident. Otherwise builds go
#   in the custom/ folder.

FFLAGS = -I$(srcdir) -I$(moddir) -module $(moddir) -I/usr/include -par_report0 -vec_report0
# Set other globally applicable compiler options.
# . -J=$(moddir) : tell where module files are located
# . -Wall        : turn on all warnings
# . -static      : no shared libraries

FFAST = -O2 -static -assume nominus0 
#FFAST = -O3 -pad -xHost -assume nominus0
# Compiler options to produce fast code. 

FDEBUG = -O0 -g -warn -traceback -assume nominus0
#FDEBUG = -O0 -g -check all -warn -traceback -assume nominus0
# Compiler options to produce debugging code.

FPROF = -prof_gen -prof_dir./prof_dir -prof_file./prof_file  -assume nominus0
# Compiler options to produce profiling code.

# FOUTOBJ = -c -o
# Compiler option for making object files

# FOUTEXE = -o
# Compiler option for producing named executables

# FCOLON = 
# FCOLON = :
# The separator character to use between compiler options (default: unset)

#
# File suffixes and prefered file names
# -------------------------------------

# FSUFFIX = f90
# The compiler-preferred Fortran file extension

# PROGSUFFIX = exe
# The preferred file extension for executables

# MODSUFFIX = mod
# The Fortran module file extension produced by the compiler

# MODCASE = -uc
# If the compiler outputs module files that have the head part of the
# file name in uppercase rather than lowercase, use this

# OBJSUFFIX = o
# The file extension for object files

# PROGSUFFIX = exe
# Option to specify the file extension for the executable 

#
# Options to control Fortran produced from Foo code
# -------------------------------------------------

DEFS = -DUSE_ERROR_MANAGEMENT -DNO_GENERIC_NAMES -DFLUSH
#DEFS = -DUSE_PRECONDITIONS -DNO_GENERIC_NAMES -DFLUSH
#DEFS = -DUSE_CALL_STACK_MANAGEMENT -DNO_GENERIC_NAMES -DFLUSH
# Specify switches that control Fortran produced from Foo code.
# These switches are defined in the foofiles/macros file.
# More than one option from the list below can be specified:
# -DFLUSH
# -DUSE_ERROR_MANAGEMENT
# -DUSE_PRECONDITIONS
# -DUSE_CALL_STACK_MANAGEMENT
# -DMPI
# -DNO_GENERIC_NAMES
# -DNO_MOD_ONLY
# -DUSE_TIME_PROFILING
# -DNO_TONTO_SYSTEM_CALLS
# -DNO_CASE_OPTIONS

#
# Library related options
# -----------------------

# LIBSUFFIX = a
# The file extension for library files

# MKLIB = ar -ru
# MKLIB = xild -lib ru
# Commands for making libraries

LIBS = -L$(objdir) -lpthread 
# LIBS = -L$(objdir) -lpthread -liomp5 -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core
# LIBS = -L$(objdir) -llapack -lblas -L/mnt/datafs/opt/openmpi-intel/1.2.6/lib/ -lmpi -lmpi_f90

# Specifies the library paths to search (-L) and the LAPACK/BLAS libraries, 
# or their equivalent. 

