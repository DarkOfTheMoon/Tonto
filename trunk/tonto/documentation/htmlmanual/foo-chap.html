<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 11. The foo preprocessor</title><link rel="stylesheet" href="../tonto.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="Tonto"><link rel="up" href="index.html" title="Tonto"><link rel="previous" href="linking-code.html" title="Linking your Fortran code"><link rel="next" href="why-foo.html" title="Key advantages of the foo preprocessor"><meta name="robots" content="noindex,nofollow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="linking-code.html">Prev</a> </td><th width="60%" align="center"></th><td width="20%" align="right"> <a accesskey="n" href="why-foo.html">Next</a></td></tr></table><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="foo-chap"></a>Chapter 11. The <span class="emphasis"><em>foo</em></span> preprocessor</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="why-foo.html">Key advantages of the foo preprocessor</a></span></dt><dt><span class="sect1"><a href="how-foo-works.html">How foo works</a></span></dt><dt><span class="sect1"><a href="foo-rules.html">Rules for valid foo preprocessor code</a></span></dt><dt><span class="sect1"><a href="foo-to-f95.html">What foo does to produce Fortran95 code</a></span></dt><dd><dl><dt><span class="sect2"><a href="foo-to-f95.html#automatic-functions">Automatic function and subroutine
detection</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#self-arguments">Automatic insertion of first argument to a routine</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#end-completion">Automatic end keyword completion</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#dot-notation">Dot notation</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#automatic-overloading">Automatic overloading and interface files</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#explicit-overloading">Explicit overloading</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#function-attributes">New syntax for recursive, pure and
elemental routines</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#functionals-subroutinals">Functionals and subroutinals</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#error-management">Preconditions, postconditions, and error management facilities</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#memory-management">Memory and call-stack management</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#template-routines">Template routines</a></span></dt><dt><span class="sect2"><a href="foo-to-f95.html#c-preprocessort">C-preprocessor macros and type definitions</a></span></dt></dl></dd></dl></div><P>
The TONTO system is written in <span class="emphasis"><em>foo</em></span>, a preprocessor which encourages a good
object-oriented programming style. <span class="emphasis"><em>foo</em></span> is closely related to Fortran95, and
indeed, <span class="emphasis"><em>foo</em></span> code currently translates into standard compliant Fortran95 code. </P><P>The following sections describe the rules for valid input to the
<span><b class="command">foo</b></span> preprocessor, and the actual transformation process
performed by the preprocessor. </P><P>Although the rules are quite simple, and examples are given, it is
probably easier to examine <span class="emphasis"><em>foo</em></span> modules that have already been written.  It
should be possible to understand <span class="emphasis"><em>foo</em></span> code without reading the formal rules, if
you already have a basic knowledge of object-oriented programming techniques and
syntax.</P><P>The most important element of the <span class="emphasis"><em>foo</em></span> language is the introduction of a
&#8220;<span class="quote">dot notation</span>&#8221;. In this notation, a dot
&#8220;<span class="quote"><tt class="literal">.</tt></span>&#8221; expands either into the Fortran95
&#8220;<span class="quote"><tt class="literal">%</tt></span>&#8221; type separator symbol, or a procedure call,
depending respectively on whether there is, or is not, a type component with the
appropriate name defined in the type. Thus, using the dot notation, it is
possible for the programmer to &#8220;<span class="quote">hide</span>&#8221; the detailed implementation
of a type (and hence a module) from a casual user.  In this way, the computer
code becomes robust to future changes, sincethe distinction between a routine
and actual data becomes blurred.</P><P>
Note that you don't have to write your code in the <span class="emphasis"><em>foo</em></span> language --- plain
Fortran95 is fine, provided you stick to the guidelines in the previous chapter
-- but <span class="emphasis"><em>foo</em></span> has many advantages, and is worth the minimal effort required to
learn it.  </P></div><div class="navfooter"><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linking-code.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="why-foo.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Linking your Fortran code </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Key advantages of the foo preprocessor</td></tr></table></div></body></html>
