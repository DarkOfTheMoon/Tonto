<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
  <META name="robots" content="noindex, nofollow">
  <TITLE>Aesthetic requirements for encapsulation</TITLE>
  <LINK REL="previous" HREF="node10.html">
  <LINK REL="up" HREF="node8.html">
  <LINK REL="next" HREF="node12.html">
</HEAD>
<BODY BGCOLOR="#FFFBF0">
<!--Navigation Panel-->
<B> Next:</B> <A HREF="node12.html">The foo preprocessor language</A>
<B> Up:</B> <A HREF="node8.html">Object-oriented Fortran95 style</A>
<B> Previous:</B> <A HREF="node10.html">Motivation for the critical</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2>Aesthetic requirements for encapsulation</H2>

<P>
Here is a list of highly recommnded conventions which we find makes
the code in each module much more uniform and readable.

<P>
<UL>
<P>
<LI>Only one module statement can be used per file.

<P>
<LI>Except for module names and preprocessor macros, lowercase is always used.

<P>
<LI>The name of the derived type used in a module to represent the
abstract data type has the same name as the module name 
followed by an underscore.

<P>
<BLOCKQUOTE>
<TT>shell_type</TT> is the name of the derived type defined and manipulated 
within the module <TT>SHELL</TT>.
</BLOCKQUOTE>
<P>
<LI>For every module, a macro with the same name as the module name is always defined,
and expands to the actual type used and manipulated in that module.

<P>
<BLOCKQUOTE>
<TT>SHELL</TT> is a macro for the type definition <TT>type(shell_type)</TT>. 
<TT>INT</TT> is a macro for the type <TT>integer</TT>. Note that
<TT>INT</TT> is a built-in type. The use of macros hides the distinction
between built-in and derived types. Also note that the macro definition must take
effect after the <TT>module</TT> statement and any <TT>use</TT> statements.
</BLOCKQUOTE>
<P>
<LI>The <TT>result</TT> syntax for a function routine is always used.

<P>
<LI>The name <TT>self</TT> is always used as the first dummy argument
to any routine.

<P>
<BLOCKQUOTE>
Routine <TT>INT_factorial</TT> is declared with the following syntax 
<PRE>
function INT_factorial(self) result (res); INT :: self
</PRE></BLOCKQUOTE>
<P>
<LI>Routines with names involving the words <TT>create</TT> or <TT>destroy</TT>
are assumed to have dummy first argument name <TT>self</TT> as above, but 
<TT>self</TT> has the pointer attribute.

<P>
<BLOCKQUOTE>
The routine <TT>STR_create</TT> is declared with the following syntax 
<PRE>
subroutine STR_create(self); STR, PTR :: self
</PRE>where <TT>PTR</TT> is a macro for <TT>pointer</TT>.
</BLOCKQUOTE>
<P>
</UL>
<P>
<HR>
</BODY>
</HTML>
