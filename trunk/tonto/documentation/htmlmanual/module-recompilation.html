<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The problem of unnecessary recompilation of Fortran90 modules</title><link rel="stylesheet" href="../tonto.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="Tonto"><link rel="up" href="building-executables.html" title="Chapter 8. How TONTO builds executables"><link rel="previous" href="make-dependencies.html" title="Code dependencies in TONTO"><link rel="next" href="tech-input.html" title="Chapter 9. The TONTO input file: technical specification"><meta name="robots" content="noindex,nofollow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="make-dependencies.html">Prev</a> </td><th width="60%" align="center"></th><td width="20%" align="right"> <a accesskey="n" href="tech-input.html">Next</a></td></tr></table><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="module-recompilation"></a>The problem of unnecessary recompilation of Fortran90 modules</h2></div></div><div></div></div><P>A problem with the current use of modules in Fortran90 is the unnecessary
recompilation of dependent files when the interface has not changed.</P><P>If the interface to a module is not changed, and there are no inter-module
optimisations, then there is no logical reason why other modules that depend on
this module need recompiling. Compilers of today however do not allow for this,
as they replace a module information file even if it's contents have not
changed. To make matters worse, some compilers insert the compilation date into
the module information file, and often this can be the only change made to that
file.</P><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2532516"></a><tt class="literal">make</tt> and the recompilation strategy used in
TONTO</h3></div></div><div></div></div><P>The <tt class="literal">make</tt> command uses file time stamps to determine
whether dependencies need recompiling. </P><P>To solve the problem of unchanging, or hardly changing module files, what
we need to do is use the old time stamp if an updated module information file is
the same as the old one. In this way, <tt class="literal">make</tt> will determine
that the module file has not been changed and will not recompile any
dependents.</P></div></div><div class="navfooter"><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="make-dependencies.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="building-executables.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="tech-input.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Code dependencies in TONTO </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 9. The TONTO input file: technical specification</td></tr></table></div></body></html>
