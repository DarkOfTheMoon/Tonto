<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>How foo works</title><link rel="stylesheet" href="../tonto.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="Tonto"><link rel="up" href="foo-chap.html" title="Chapter 11. The foo preprocessor"><link rel="previous" href="why-foo.html" title="Key advantages of the foo preprocessor"><link rel="next" href="foo-rules.html" title="Rules for valid foo preprocessor code"><meta name="robots" content="noindex,nofollow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="why-foo.html">Prev</a> </td><th width="60%" align="center"></th><td width="20%" align="right"> <a accesskey="n" href="foo-rules.html">Next</a></td></tr></table><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="how-foo-works"></a>How <span class="emphasis"><em>foo</em></span> works</h2></div></div><div></div></div><P>Currently, <span class="emphasis"><em>foo</em></span> is implemented as a <span class="acronym">UNIX</span>
<tt class="literal">csh</tt> script, which makes use of the <tt class="literal">perl</tt>
text processing language which comes standard with
<span class="acronym">UNIX</span><sup>[<a name="id2545496" href="#ftn.id2545496">10</a>]</sup>.  You
will rarely, if ever, need to use <span class="emphasis"><em>foo</em></span> on its own. </P><P>If you write a new module, you will place the module file with a
<tt class="literal">.foo</tt> extension in the <tt class="literal">foofiles</tt> directory.
After modifying the <tt class="literal">Makefile</tt> to place your module in the
correct hierarchical position, you just type <tt class="literal">make</tt>.</P><P>You can, if you wish, apply the <span class="emphasis"><em>foo</em></span> preprocessor separately.</P><P>When the <span class="emphasis"><em>foo</em></span> command is applied to a file <tt class="literal">x.foo</tt> with
the <tt class="literal">.foo</tt>  extension, the <span class="emphasis"><em>foo</em></span> code in this file is changed
into Fortran95 code which includes some C-preprocessor macros, and this code is
written to a specified file. In addition, another file is generated which
contains the Fortran95 generic interfaces which are required if you want to
program using TONTO.</P><P>In order to work, the <span class="emphasis"><em>foo</em></span> command uses two files:
<tt class="literal">foo.perl</tt> and <tt class="literal">types.foo</tt>.  The file
<tt class="literal">foo.perl</tt> contains instructions that the
<tt class="literal">perl</tt> language needs to change <span class="emphasis"><em>foo</em></span> code into Fortran95. The
<tt class="literal">types.foo</tt> file contains type information which is relevant to
the TONTO system. </P><div class="informalexample"><P>The TONTO file gaussian.foo contains code which describes gaussian
functions which are commonly used in quantum chemistry.  To use the <span class="emphasis"><em>foo</em></span>
preprocessor on the file <tt class="literal">gaussian.foo</tt>, and to see what the
emitted Fortran95 code looks like, type:
<table border="0" bgcolor="#E0E0E0"><tr><td><pre class="programlisting">
perl -w scripts/foo.perl foofiles/gaussian.foo gaussian.f90 gaussian.int
</pre></td></tr></table>
The file <tt class="literal">foofiles/gaussian.foo</tt> is the inputted <span class="emphasis"><em>foo</em></span> code.
The script <tt class="literal">foo.perl</tt> assumes that the
<tt class="literal">types.foo</tt> file resides in the <tt class="literal">foofiles</tt>
directory.  <tt class="literal">gaussian.f90</tt> contains the emitted Fortran95 code.
The file <tt class="literal">gaussian.int</tt> contains a list of the generic
interfaces for this module. You can use your editor to examine these outputted
files. </P></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><P>However, there is no guarantee that
future versions of <span class="emphasis"><em>foo</em></span> will be implemented in this way</P></div></div></div><div class="navfooter"><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="why-foo.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="foo-chap.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="foo-rules.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Key advantages of the foo preprocessor </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Rules for valid foo preprocessor code</td></tr></table></div></body></html>
