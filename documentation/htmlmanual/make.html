<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The make program and the Makefile</title><link rel="stylesheet" href="../tonto.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="Tonto"><link rel="up" href="building-executables.html" title="Chapter 8. How TONTO builds executables"><link rel="previous" href="building-executables.html" title="Chapter 8. How TONTO builds executables"><link rel="next" href="code-portability.html" title="Machine specific code in TONTO"><meta name="robots" content="noindex,nofollow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="building-executables.html">Prev</a> </td><th width="60%" align="center"></th><td width="20%" align="right"> <a accesskey="n" href="code-portability.html">Next</a></td></tr></table><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="make"></a>The make program and the Makefile</h2></div></div><div></div></div><P><tt class="literal">make</tt> is a program that controls how a program is
compiled.</P><P>The <tt class="literal">Makefile</tt> is a database used by the
<tt class="literal">make</tt> program to provide the instructions to compile
TONTO.</P><P>The <tt class="literal">Makefile</tt> is comprised of the following important
sections:
<div class="itemizedlist"><ul type="disc"><li><P>A part defining the machine specific compilation options to be
used, and where the executable is to be installed.</P><P>---This part is changed by the <tt class="literal">Makefile.pl</tt> program as
detailed in the next section.</P><P>---This part is the part that is changed by hand to make customised
versions of TONTO.</P></li><li><P>A part defining where the all the required files are located;
that is, the locations of the &#8220;<span class="quote"><tt class="literal">foo</tt></span>&#8221; source code,
fortran code, fortran interface files, object code, module files, dependency
files, documentation directories, and compile scripts.  The directories which
contain all these files are easily identified.</P><P>---These names of these directories are never altered.</P></li><li><P>A part listing the object files in hierarchical module order;
that is, arranged in an order such that the objects which use other objects come
later in the ordered list.</P><P>---You will only need to modify hierarchical object files if you are
writing a new module.  If you want to do this you should refer to 
<a href="fortran-modules.html" title="Chapter 10. Writing Fortran modules for TONTO">Chapter 10, <i>Writing Fortran modules for TONTO</i></a> or to <a href="foo-modules.html" title="Chapter 12. Writing foo modules for TONTO">Chapter 12, <i>Writing foo modules for TONTO</i></a>.</P></li><li><P>A part which includes a <tt class="literal">dependfile</tt> containing
the dependencies of each of the listed object files. These dependencies are
found in the <tt class="literal">dependencies</tt> directory, and are make by the
<tt class="literal">make_dependencies.perl</tt> script.</P><P>---You will only need to modify the <tt class="literal">dependfile</tt> file if
you are writing a Fortran module. If you are writing a <span class="emphasis"><em>foo</em></span> module, which is
the recommended procedure, then this is done automatically.</P></li><li><P>A part describing how to make the dependency files, fortran,
html documentation, object, module, and executable files.</P><P>---This section makes use of <span><b class="command">make</b></span> &#8220;<span class="quote">pattern
rules</span>&#8221;. You should not need to alter this section unless your compiler
makes unusual files which need to be included.  For example, the
<tt class="literal">SGI</tt> compiler produces module files with capitalised
names.</P></li></ul></div>
</P></div><div class="navfooter"><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="building-executables.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="building-executables.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="code-portability.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 8. How TONTO builds executables </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Machine specific code in TONTO</td></tr></table></div></body></html>
