<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>TEXTFILE</title><link rel="stylesheet" href="../tonto.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="Tonto"><link rel="up" href="keywords.html" title="Chapter 5. Keyword documentation for TONTO"><link rel="previous" href="SPACEGROUP.html" title="SPACEGROUP"><link rel="next" href="writing-programs.html" title="Chapter 6. Writing programs with TONTO"><meta name="robots" content="noindex,nofollow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="SPACEGROUP.html">Prev</a> </td><th width="60%" align="center"></th><td width="20%" align="right"> <a accesskey="n" href="writing-programs.html">Next</a></td></tr></table><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="TEXTFILE"></a><tt class="literal">TEXTFILE</tt></h2></div></div><div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="TEXTFILE-purpose"></a>Purpose</h3></div></div><div></div></div><P>An object for reading or writing ASCII textfiles</P></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="TEXTFILE-synopsis"></a>Synopsis</h3></div></div><div></div></div><P><tt class="literal">TEXTFILE</tt> is a line-oriented formatted sequential
advancing file.  It can handle input and output, including input from standard
input, and output to standard output.</P><P>The <tt class="literal">TEXTFILE</tt> object is a <tt class="literal">FILE</tt> with a
<tt class="literal">BUFFER</tt> and a <tt class="literal">REALFMT</tt> formatting object. The
input/output proceeds via a line buffer. It is forbidden to open a TEXTFILE
simultaneously for input and output.</P><P>There is a default internal standard input object,
<tt class="literal">stdin</tt>, and a default standard output object,
<tt class="literal">stdout</tt>. Usually these are connected to real files with those
names, <span class="emphasis"><em>not</em></span> the terminal.</P><P>A line count is maintained to allow back-tracking to previous lines, and
particular items on each line. This is useful for input.</P><P>For output, items can be put in columns of a specified width, with double
precision numbers having a specified precision and "style" (set using fortran
conventions). This is useful for dynamic tables, which the user can change at
run time. Rewind and backtracking are not allowed for output files.</P><P>It is possible to redirect the input or output to a new file using the
"redirect" command. The previous file can be recovered using "revert", or it
will revert back automatically to the previous file if the redirected file ends.
It is also possibile to redirect input to an internal file. This is useful for
processing a list of text as if it were a file. Output to an internal file is
not allowed.</P><P>Note that the input buffer is limited to size
<tt class="literal">BSTR_SIZE</tt>, set in the <tt class="literal">macros</tt> file.</P><P>The system information in the system variable <tt class="literal">tonto</tt> is
updated whenever a I/O operation or a buffer operation is performed, so that
TONTO knows where it is at and can tell you where it was up to in processing
any file.  </P></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="TEXTFILE-note"></a>Important note</h3></div></div><div></div></div><P>Keywords are normally inputted from <tt class="literal">stdin</tt> using the
<tt class="literal">read</tt> routine and processed by the conventional routine
<tt class="literal">process_input</tt>.</P><P>In the case of <tt class="literal">TEXTFILE</tt>, these keywords are processed
by <tt class="literal">process(word,in)</tt>.  There is no input from
<tt class="literal">stdin</tt> since this file defined the properties of
<tt class="literal">stdin</tt>.</P><P>The keywords in this module only affect the way output is
presented.</P></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="TEXTFILE-input"></a>Default input data order</h3></div></div><div></div></div><P>There is no associated <tt class="literal">TEXTFILEVEC</tt> module.</P></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="TEXTFILE-keywords"></a>Listing of keywords</h3></div></div><div></div></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">real_precision= INT</tt></span></dt><dd><P>Equivalent to <tt class="literal">precision=</tt></P></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">real_style= STR</tt></span></dt><dd><P>Read a character indicating the style of output wanted for
real numbers</P><div class="itemizedlist"><ul type="disc"><li><P>The default is <tt class="literal">f</tt></P></li><li><P>The style symbols are those used in the fortran language:
<tt class="literal">f</tt>, <tt class="literal">g</tt>, <tt class="literal">e</tt>,
etc.</P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">real_width= INT</tt></span></dt><dd><P>Equivalent to <tt class="literal">field_width=</tt></P></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">fields= INT</tt></span></dt><dd><P>Read a number indicating the number of fields across the page
wanted when outputting a vector or matrix</P><div class="itemizedlist"><ul type="disc"><li><P>The default is 5</P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">field_width= INT</tt></span></dt><dd><P>Read an integer indicating the width of a field required for
real numbers</P><div class="itemizedlist"><ul type="disc"><li><P>The default is 20</P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">int_width= INT</tt></span></dt><dd><P>Read an integer indicating the width of a field required for an
integer, or string variable</P><div class="itemizedlist"><ul type="disc"><li><P>The default is 9</P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">labels= BIN</tt></span></dt><dd><P>If set <tt class="literal">TRUE</tt>, integer labels are used on the
columns or rows of vectords and matrices when they are outputted</P><div class="itemizedlist"><ul type="disc"><li><P>The default is <tt class="literal">TRUE</tt></P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">margin= INT</tt></span></dt><dd><P>Read an integer setting the number of blank characters used in
the margin when outputting text</P><div class="itemizedlist"><ul type="disc"><li><P>The default is 0</P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">precision= INT</tt></span></dt><dd><P>Read an integer telling the number of significant figures
desired when outputting real number</P><div class="itemizedlist"><ul type="disc"><li><P>The default is 9</P></li></ul></div></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><tt class="literal">style= STR</tt></span></dt><dd><P>Equivalent to <tt class="literal">real_style=</tt></P></dd></dl></div></div></div><div class="navfooter"><IMG SRC="../hr.png" HEIGHT="10" WIDTH="100%"><BR><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="SPACEGROUP.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="keywords.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="writing-programs.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">SPACEGROUP </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. Writing programs with TONTO</td></tr></table></div></body></html>
